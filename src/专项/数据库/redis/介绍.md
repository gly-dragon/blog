---
title: 介绍
tags:
  - redis
  - 数据库
order: "1"
---


# redis的基本概念及环境配置

## redis基本概念

redis是一种非关系型数据库（NoSQL），非关系型数据库没有表的概念，数据是直接存储在内存中，所以它的速度会更快。

关系型数据库和非关系型数据库的区别：

1. 关系型数据库通过“表”来存储数据，非关系型数据库没有表的概念
1. 非关系型数据库数据是直接存储在内存中
1. 关系型数据库安全性高，性能差，非关系型数据库性能好但是安全性差

**redis**是基于键值对一种非关系型数据库，数据存储在内存中，主要是存储一些比较重要的信息，例如:用户的身份信息，以及抢购、秒杀之类的操作，主要应用场景是在高并发环境下缓解服务器压力或者在分布式系统中用来存放用户的身份信息。

## 安装redis

### 使用压缩包安装

1. 首先在[redis官网下载地址](https://download.redis.io/releases/)上下载redis的安装包。

1. 将redis的安装包上传到linux中并进行解压

   ```shell
   tar -xvPf /software/redis-3.0.0.tar.gz -C /usr/local/software/
   ```

3. redis是使用C语言进行编写的，如果没有安装C语言的运行环境，需要先安装C语言的运行环境，如果已经安装，跳过该步骤。此处使用联网安装C语言

   ```shell
   yum install gcc-c++
   ```

3. 构建redis，进入/usr/local/software/redis-3.0.0目录执行make命令即可构建redis

   ```shell
   make
   ```

5. 安装redis，构建完成后在/usr/local/software/redis-3.0.0目录下执行安装命令

   ```shell
   make install PREFIX=/usr/local/software/redis
   ```

   执行成功后在/usr/local/software/目录下产生一个redis的文件夹，该文件夹中的bin目录包括一组redis的使用程序，至此redis安装完成。

### 使用docker安装redis（推荐）

使用压缩包安装redis流程较为繁琐，所以可以在redis中使用docker进行安装，但是如果没有安装docker需要先安装docker。docker联网安装命令：

```shell
yum install docker
```

安装了docker之后启动docker，只需要执行安装redis的命令即可。

```shell
docker pull redis
```

拉取成功后执行命令创建docker容器，即redis程序

```shell
docker run -p 6379:6379 -d redis
```

> **注意：**无论是使用压缩包安装还是使用docker进行安装，都需要注册linux防火墙才可以使用，注册linux防火墙：
>
> ```
> firewall-cmd --zone=public --add-port=6379/tcp --permanent
> ```
>
> 注册防火墙后需要重启防火墙：
>
> ```
> firewall-cmd --reload
> ```

## 启动redis

对于直接安装在linux中的redis可以使用两种方式进行启动：

1. 前台启动：进入redis安装目录中的bin目录，即/usr/local/software/redis/bin，执行命令即可：

   ```
   ./redis-server
   ```

   使用该方式启动后该控制台就不能再执行其他命令，如果要执行其他命令，需要重新打开一个控制台窗口，较为麻烦，所以一般情况下，使用后台启动更方便。

1. 后台启动（推荐使用）：

   后台启动在启动后该控制台窗口依然可以继续编写其他命令，但是后台使用后台启动需要一定的配置：

   - 复制redis的配置文件（安装后的bin目录中并没有redis的配置文件，配置文件需要到安装程序中去复制，即将/usr/local/software/redis-3.0.0目录下redis.conf文件复制到/usr/local/software/redis/bin目录中

     ```
     cp /usr/local/software/redis-3.0.0/redis.conf /usr/local/software/redis/bin
     ```

   - 修改配置文件（redis.conf）中的一些信息：

     使用编辑命令（vi redis.conf）进入该文件，修改daemonize no为daemonize yes

     ```
     vi redis.conf
     ```

   - 在bin目录中执行命令后台启动redis

     ```
     ./redis-server redis.conf
     ```

如果是使用docker进行安装的，需要在保持docker运行的情况下执行命令启动

```
docker start 6a54231d1277 #6a54231d1277是docker容器的id，并不一定，可以使用docker ps查看redis的id
```

## 访问redis

访问redis服务器一共有三种方式，分别是使用redis客户端和redis桌面管理工具以及使用代码连接

1. 使用redis客户端建立连接

   redis客户端在redis的bin目录（redis-cli)中，进入该目录执行命令启动即可

   ```
   ./redis-cli
   ```

   执行`exit`命令即可退出客户端。

2. 使用redis的桌面管理工具，在Windows下直接连接linux中的redis，但是要求端口号必须已经注册，如果没有安装redis桌面管理工具，需要先安装redis桌面管理程序。

3. 使用代码连接

   可以使用jedis连接redis，jedis是java代码连接redis的一种技术，在spring生态中也提供了不少类似的连接架包。